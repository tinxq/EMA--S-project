<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title> idea</title>
  <style>
    :root{
      --box-pad: 0.8em;
      --box-radius: 12px;
      --box-border: 2px;
      --line-width: 2.5;
      --box-width: clamp(140px, 38vw, 260px); 
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      background:#fff;
    }

    .scene{
      position:relative;
      min-height: 100vh;
      width: 100%;
      margin: 0 auto;
      display:grid;
      place-items:center;
      padding: 5vh 0;
    }

    .hero{
      max-width: 55%;
      width: clamp(180px, 50vw, 600px);
      height:auto;
      z-index: 1;
      pointer-events:none;
    }

    #bubbles{
      position:absolute;
      inset:0;
    }

    .bubble{
      position:absolute;
      max-width: var(--box-width);
      padding: var(--box-pad);
      border: var(--box-border) solid #996c3b;
      border-radius: var(--box-radius);
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(2px);
      box-shadow: 0 2px 8px rgba(0,0,0,.08);
      z-index: 2;

      font-size: clamp(0.9rem, 2.5vw, 1.2rem);
      line-height: 1.4;
      text-align: center;

      word-wrap: break-word;
      overflow-wrap: break-word;
      white-space: normal;
      min-height: 50px; /* علشان النص الطويل ما يطلع */
    }

    .links{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      z-index:0;
    }
  </style>
</head>
<body>
  <main class="scene">
    <svg class="links" viewBox="0 0 100 100" preserveAspectRatio="none"></svg>
    <img class="hero" src="photos/ema2.PNG" alt="شخصية" />
    <div id="bubbles"></div>
  </main>

  <script>
    const ANCHOR = { x: 50, y: 48 };
    const BUBBLES = [
      { x: 18, y: 20, w: 36, h: 14, text: "3w4e5r6t7yu8iop[edrftgyhujikolp;[]]" },
      { x: 70, y: 22, w: 36, h: 14, text: "dfcvgbhnjmk,.cvbnm,.xcvbnm," },
      { x: 14, y: 55, w: 34, h: 14, text: "dfcgvbhjnkml,;.sedrftgyhujikolp;" },
      { x: 74, y: 56, w: 34, h: 14, text: "esdrftgyhujikolp;[ertyhujikolp]" },
      { x: 18, y: 80, w: 28, h: 12, text: "wsedrftgyjikolpertyuiop" },
      { x: 76, y: 80, w: 28, h: 12, text: "wertyujikolp;w3e4r5tyujikolp;" },
    ];

    const scene = document.querySelector('.scene');
    const wrap  = document.getElementById('bubbles');
    const svg   = document.querySelector('.links');

    function px(v, base){ return (v/100) * base; }

    function render(){
      wrap.innerHTML = '';
      svg.innerHTML = '';

      const rect = scene.getBoundingClientRect();
      const cx = rect.width  * (ANCHOR.x/100);
      const cy = rect.height * (ANCHOR.y/100);

      BUBBLES.forEach((b) => {
        const el = document.createElement('div');
        el.className = 'bubble';
        el.style.left = `calc(${b.x}% - ${b.w/2}%)`;
        el.style.top  = `calc(${b.y}% - ${b.h/2}%)`;
        el.textContent = b.text;
        wrap.appendChild(el);

        const bx = px(b.x, rect.width);
        const by = px(b.y, rect.height);

        const path = document.createElementNS('http://www.w3.org/2000/svg','path');
        const kx = (bx < cx ? bx + Math.abs(bx-cx)*0.25 : bx - Math.abs(bx-cx)*0.25);
        const ky = (by + cy)/2;
        const d = `M ${cx/rect.width*100} ${cy/rect.height*100}
                   Q ${kx/rect.width*100} ${ky/rect.height*100},
                     ${b.x} ${b.y}`;
        path.setAttribute('d', d.replace(/\s+/g,' '));
        path.setAttribute('fill','none');
        path.setAttribute('stroke','#996c3b');
        path.setAttribute('stroke-width','var(--line-width)');
        path.setAttribute('vector-effect','non-scaling-stroke');
        path.setAttribute('stroke-linecap','round');
        svg.appendChild(path);
      });
    }

    addEventListener('resize', render);
    addEventListener('load', render);
  </script>
</body>
</html>